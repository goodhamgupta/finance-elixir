defmodule BasicBench do
  use Benchfella

  bench "calculate xirr" do
    d = [{2012, 5, 29}, {2015, 5, 29}]
    v = [-20000, 40000]
    Finance.xirr(d,v)
  end

  bench "long investment" do
    v = [
      105187.06, 816709.66, 479069.684, 937309.708, 88622.661, 100000.0, 80000.0, 403627.95, 508117.9, 789706.87,
      -88622.661, -789706.871,-688117.9, -403627.95, 403627.95, 789706.871, 88622.661, 688117.9, 45129.14, 26472.08,
      51793.2, 126605.59, 278532.29, 99284.1, 58238.57, 113945.03, 405137.88, -405137.88, 165738.23, -165738.23,
      144413.24, 84710.65, -84710.65, -144413.24
    ]

    d = [
          {2011,12,07},{2011,12,07},{2011,12,07},{2012,01,18},{2012,07,03},{2012,07,03},{2012,07,19},{2012,07,23},
          {2012,07,23},{2012,07,23}, {2012,09,11},{2012,09,11},{2012,09,11},{2012,09,11},{2012,09,12},{2012,09,12},
          {2012,09,12},{2012,09,12},{2013,03,11},{2013,03,11},{2013,03,11},{2013,03,11},{2013,03,28},{2013,03,28},
          {2013,03,28},{2013,03,28},{2013,05,21},{2013,05,21},{2013,05,21},{2013,05,21},{2013,05,21},{2013,05,21},
          {2013,05,21},{2013,05,21}
        ]
    Finance.xirr(d,v)
  end
end
